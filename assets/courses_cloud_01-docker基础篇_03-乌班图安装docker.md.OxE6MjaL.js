import{_ as l}from"./chunks/ArticleMetadata.Sb1DYAHo.js";import{_ as p,D as k,o as e,c as d,I as r,w as o,k as t,a as c,R as g,b as F,e as m}from"./chunks/framework.FVQzxbLi.js";import"./chunks/md5.RtphNWHi.js";const $=JSON.parse('{"title":"乌图班图安装docker","description":"","frontmatter":{"title":"乌图班图安装docker","author":"吴建华","date":"2021/01/16 17:58","categories":["docker基础篇"],"tags":["乌班图","docker","linux"]},"headers":[],"relativePath":"courses/cloud/01-docker基础篇/03-乌班图安装docker.md","filePath":"courses/cloud/01-docker基础篇/03-乌班图安装docker.md","lastUpdated":1702561947000}'),u={name:"courses/cloud/01-docker基础篇/03-乌班图安装docker.md"},y=t("h1",{id:"乌图班图安装docker",tabindex:"-1"},[c("乌图班图安装docker "),t("a",{class:"header-anchor",href:"#乌图班图安装docker","aria-label":'Permalink to "乌图班图安装docker"'},"​")],-1),b=g(`<h2 id="_1、卸载旧版本" tabindex="-1">1、卸载旧版本 <a class="header-anchor" href="#_1、卸载旧版本" aria-label="Permalink to &quot;1、卸载旧版本&quot;">​</a></h2><p>Docker 的旧版本被称为 docker，docker.io 或 docker-engine 。如果已安装，请卸载它们：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> docker-engine</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> docker.io</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> containerd</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> runc</span></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/fhwlnetwork/blos_imgs/img/image-20220201193804661.png" alt="image-20220201193804661"></p><h2 id="_2、设置仓库" tabindex="-1">2、设置仓库 <a class="header-anchor" href="#_2、设置仓库" aria-label="Permalink to &quot;2、设置仓库&quot;">​</a></h2><h3 id="更新-apt-包索引。" tabindex="-1">更新 apt 包索引。 <a class="header-anchor" href="#更新-apt-包索引。" aria-label="Permalink to &quot;更新 apt 包索引。&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> $</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> update</span></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/fhwlnetwork/blos_imgs/img/QQ20220201-135208.png" alt="QQ20220201-135208"></p><h3 id="安装-apt-依赖包-用于通过https来获取仓库" tabindex="-1">安装 apt 依赖包，用于通过HTTPS来获取仓库: <a class="header-anchor" href="#安装-apt-依赖包-用于通过https来获取仓库" aria-label="Permalink to &quot;安装 apt 依赖包，用于通过HTTPS来获取仓库:&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> $</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    apt-transport-https</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    ca-certificates</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    gnupg-agent</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">    software-properties-common</span></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/fhwlnetwork/blos_imgs/img/image-20220201193944401.png" alt="image-20220201193944401"></p><h3 id="添加-docker-的官方-gpg-密钥" tabindex="-1">添加 Docker 的官方 GPG 密钥： <a class="header-anchor" href="#添加-docker-的官方-gpg-密钥" aria-label="Permalink to &quot;添加 Docker 的官方 GPG 密钥：&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/gpg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-key</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> -</span></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/fhwlnetwork/blos_imgs/img/image-20220201195831614.png" alt="image-20220201195831614"></p><p>9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88 通过搜索指纹的后8个字符，验证您现在是否拥有带有指纹的密钥。</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-key</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> fingerprint</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">EBFCD88</span></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/fhwlnetwork/blos_imgs/img/image-20220201200540677.png" alt="image-20220201200540677"></p><h3 id="使用以下指令设置稳定版仓库" tabindex="-1">使用以下指令设置稳定版仓库 <a class="header-anchor" href="#使用以下指令设置稳定版仓库" aria-label="Permalink to &quot;使用以下指令设置稳定版仓库&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> add-apt-repository</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">   &quot;deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/ </span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">\\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">lsb_release</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -cs</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">\\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">  stable&quot;</span></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/fhwlnetwork/blos_imgs/img/image-20220201200701259.png" alt="image-20220201200701259"></p><h2 id="安装-docker-engine-community" tabindex="-1">安装 Docker Engine-Community <a class="header-anchor" href="#安装-docker-engine-community" aria-label="Permalink to &quot;安装 Docker Engine-Community&quot;">​</a></h2><h3 id="更新-apt-包索引。-1" tabindex="-1">更新 apt 包索引。 <a class="header-anchor" href="#更新-apt-包索引。-1" aria-label="Permalink to &quot;更新 apt 包索引。&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> update</span></span></code></pre></div><h3 id="安装最新版本的-docker-engine-community-和-containerd-或者转到下一步安装特定版本" tabindex="-1">安装最新版本的 Docker Engine-Community 和 containerd ，或者转到下一步安装特定版本： <a class="header-anchor" href="#安装最新版本的-docker-engine-community-和-containerd-或者转到下一步安装特定版本" aria-label="Permalink to &quot;安装最新版本的 Docker Engine-Community 和 containerd ，或者转到下一步安装特定版本：&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> docker-ce</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> docker-ce-cli</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> containerd.io</span></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/fhwlnetwork/blos_imgs/img/image-20220201201623972.png" alt="image-20220201201623972"></p><h3 id="仓库中列出可用版本" tabindex="-1">仓库中列出可用版本 <a class="header-anchor" href="#仓库中列出可用版本" aria-label="Permalink to &quot;仓库中列出可用版本&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-cache</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> madison</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> docker-ce</span></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/fhwlnetwork/blos_imgs/img/image-20220201201812214.png" alt="image-20220201201812214"></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">## 使用第二列中的版本字符串安装特定版本，例如 5:18.09.1~3-0~ubuntu-xenial。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> docker-ce=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">5</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">:20.10.6~3-0~ubuntu-focal</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> docker-ce-cli=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">5</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">:20.10.6~3-0~ubuntu-focal</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> containerd.io</span></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/fhwlnetwork/blos_imgs/img/image-20220201201930377.png" alt="image-20220201201930377"></p><h2 id="验证结果" tabindex="-1">验证结果 <a class="header-anchor" href="#验证结果" aria-label="Permalink to &quot;验证结果&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> hello-world</span></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/fhwlnetwork/blos_imgs/img/image-20220201202215373.png" alt="image-20220201202215373"></p>`,34);function D(s,C,v,_,f,w){const n=l,h=k("ClientOnly");return e(),d("div",null,[y,r(h,null,{default:o(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(e(),F(n,{key:0,article:s.$frontmatter},null,8,["article"])):m("",!0)]}),_:1}),b])}const B=p(u,[["render",D]]);export{$ as __pageData,B as default};
